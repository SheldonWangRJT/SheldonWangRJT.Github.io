<!DOCTYPE html>
<html>
<head>
    <title>Content Encryption Helper</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 { color: #667eea; }
        textarea {
            width: 100%;
            height: 200px;
            padding: 15px;
            font-family: monospace;
            font-size: 14px;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 10px 0;
        }
        input[type="password"], input[type="text"] {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 10px 0;
        }
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px 5px;
        }
        button:hover {
            opacity: 0.9;
        }
        .output {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 2px solid #667eea;
            margin-top: 20px;
            word-break: break-all;
        }
        .section {
            background: white;
            padding: 25px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .label {
            font-weight: bold;
            margin-top: 15px;
            display: block;
            color: #333;
        }
        .success { color: #2ed573; font-weight: bold; }
        .error { color: #ff4757; font-weight: bold; }
    </style>
</head>
<body>
    <h1>üîê iOS Interview Content Encryption Tool</h1>
    
    <div class="section">
        <h2>Step 1: Prepare Your Content</h2>
        <label class="label">Paste the HTML content you want to encrypt:</label>
        <textarea id="content-input" placeholder="Paste your interview questions HTML here..."></textarea>
        
        <label class="label">Set a password:</label>
        <input type="text" id="password-set" placeholder="Choose a strong password (e.g., iOSMaster2025!)">
        
        <button onclick="encryptContent()">üîí Encrypt Content</button>
    </div>
    
    <div class="section">
        <h2>Step 2: Get Encrypted String</h2>
        <p>Copy this encrypted string and paste it into <code>ios-interviews.html</code> as the <code>encryptedContent</code> variable:</p>
        <div class="output" id="encrypted-output">Encrypted content will appear here...</div>
        <button onclick="copyEncrypted()" style="display:none;" id="copy-btn">üìã Copy to Clipboard</button>
    </div>
    
    <div class="section">
        <h2>Step 3: Test Decryption</h2>
        <label class="label">Enter password to test:</label>
        <input type="password" id="password-test" placeholder="Enter password to decrypt">
        <button onclick="testDecrypt()">üîì Test Decrypt</button>
        
        <div id="decrypt-output" style="margin-top: 20px;"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script>
        let encryptedString = '';
        
        function encryptContent() {
            const content = document.getElementById('content-input').value;
            const password = document.getElementById('password-set').value;
            
            if (!content) {
                alert('Please enter content to encrypt!');
                return;
            }
            
            if (!password) {
                alert('Please set a password!');
                return;
            }
            
            // Encrypt
            encryptedString = CryptoJS.AES.encrypt(content, password).toString();
            
            // Display
            document.getElementById('encrypted-output').textContent = encryptedString;
            document.getElementById('copy-btn').style.display = 'inline-block';
            
            // Pre-fill test password
            document.getElementById('password-test').value = password;
            
            alert('‚úÖ Content encrypted successfully! Copy the encrypted string below.');
        }
        
        function copyEncrypted() {
            const output = document.getElementById('encrypted-output').textContent;
            navigator.clipboard.writeText(output).then(() => {
                alert('üìã Copied to clipboard!');
            });
        }
        
        function testDecrypt() {
            const password = document.getElementById('password-test').value;
            const outputDiv = document.getElementById('decrypt-output');
            
            if (!encryptedString) {
                outputDiv.innerHTML = '<p class="error">‚ùå No encrypted content yet! Encrypt something first.</p>';
                return;
            }
            
            try {
                const decrypted = CryptoJS.AES.decrypt(encryptedString, password).toString(CryptoJS.enc.Utf8);
                
                if (decrypted && decrypted.length > 0) {
                    outputDiv.innerHTML = '<p class="success">‚úÖ Decryption successful!</p><div style="margin-top: 20px; padding: 20px; background: #f9f9f9; border-radius: 8px;">' + decrypted + '</div>';
                } else {
                    outputDiv.innerHTML = '<p class="error">‚ùå Wrong password!</p>';
                }
            } catch (e) {
                outputDiv.innerHTML = '<p class="error">‚ùå Decryption failed! Wrong password.</p>';
            }
        }
        
        // Auto-load sample content
        window.addEventListener('DOMContentLoaded', function() {
            const sampleContent = `<div class="question-card">
  <h3>üì± Sample Question: Design Instagram Feed</h3>
  <p>This is a sample encrypted question...</p>
</div>`;
            document.getElementById('content-input').value = sampleContent;
        });
    </script>
</body>
</html>

